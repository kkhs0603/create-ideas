{"ast":null,"code":"var _jsxFileName = \"/Users/kakehashishunsuke/create-ideas/src/pages/Canvases/[id].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { CanvasContext } from \"../../contexts/CanvasContext\";\nimport Layout from \"../../components/templates/Layout/Layout\";\nimport { TextField, Button, Avatar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useRouter } from \"next/router\";\nimport firebase from \"../../firebase/firebase\";\nexport var __N_SSG = true;\nexport async function getCanvasIds() {\n  const db = firebase.firestore();\n  const snapshot = await db.collection(\"canvases\").get();\n  const ids = snapshot.docs.map(doc => {\n    return doc.id;\n  });\n  return ids;\n}\n\nconst Canvas = props => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    enterCanvas,\n    joinedUsers\n  } = useContext(CanvasContext);\n  const id = props.id; //enterCanvas(id);\n\n  const users = joinedUsers.map(user => __jsx(Avatar, {\n    user: user,\n    key: user.id,\n    alt: \"user\",\n    src: user.image_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }));\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: classes.avatars,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, users), __jsx(TextField, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), __jsx(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"\\u9001\\u4FE1\"));\n};\n\n_s(Canvas, \"iEduXb3M2cf1pMq/4pvfBDEv3Ao=\", false, function () {\n  return [useStyles];\n});\n\n_c = Canvas;\nexport default Canvas; ///////\n//Style\n///////\n\nconst useStyles = makeStyles({\n  avatars: {\n    display: \"flex\"\n  }\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"sources":["/Users/kakehashishunsuke/create-ideas/src/pages/Canvases/[id].js"],"names":["React","useContext","useEffect","useState","CanvasContext","Layout","TextField","Button","Avatar","makeStyles","useRouter","firebase","getCanvasIds","db","firestore","snapshot","collection","get","ids","docs","map","doc","id","Canvas","props","classes","useStyles","enterCanvas","joinedUsers","users","user","image_url","avatars","display"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,OAAOC,MAAP,MAAmB,0CAAnB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,MAA5B,QAA0C,mBAA1C;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,QAAP,MAAqB,yBAArB;;AAEA,OAAO,eAAeC,YAAf,GAA8B;AACnC,QAAMC,EAAE,GAAGF,QAAQ,CAACG,SAAT,EAAX;AACA,QAAMC,QAAQ,GAAG,MAAMF,EAAE,CAACG,UAAH,CAAc,UAAd,EAA0BC,GAA1B,EAAvB;AACA,QAAMC,GAAG,GAAGH,QAAQ,CAACI,IAAT,CAAcC,GAAd,CAAmBC,GAAD,IAAS;AACrC,WAAOA,GAAG,CAACC,EAAX;AACD,GAFW,CAAZ;AAGA,SAAOJ,GAAP;AACD;;AAiBD,MAAMK,MAAM,GAAIC,KAAD,IAAW;AAAA;;AACxB,QAAMC,OAAO,GAAGC,SAAS,EAAzB;AACA,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAA+B3B,UAAU,CAACG,aAAD,CAA/C;AACA,QAAMkB,EAAE,GAAGE,KAAK,CAACF,EAAjB,CAHwB,CAIxB;;AACA,QAAMO,KAAK,GAAGD,WAAW,CAACR,GAAZ,CAAiBU,IAAD,IAC5B,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAEA,IAAd;AAAoB,IAAA,GAAG,EAAEA,IAAI,CAACR,EAA9B;AAAkC,IAAA,GAAG,EAAC,MAAtC;AAA6C,IAAA,GAAG,EAAEQ,IAAI,CAACC,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADY,CAAd;AAIA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEN,OAAO,CAACO,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkCH,KAAlC,CADF,EAEE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,MAA/B;AAAgC,IAAA,OAAO,EAAC,WAAxC;AAAoD,IAAA,KAAK,EAAC,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,CADF;AASD,CAlBD;;GAAMN,M;UACYG,S;;;KADZH,M;AAoBN,eAAeA,MAAf,C,CAEA;AACA;AACA;;AACA,MAAMG,SAAS,GAAGjB,UAAU,CAAC;AAC3BuB,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE;AADF;AADkB,CAAD,CAA5B","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { CanvasContext } from \"../../contexts/CanvasContext\";\nimport Layout from \"../../components/templates/Layout/Layout\";\nimport { TextField, Button, Avatar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useRouter } from \"next/router\";\nimport firebase from \"../../firebase/firebase\";\n\nexport async function getCanvasIds() {\n  const db = firebase.firestore();\n  const snapshot = await db.collection(\"canvases\").get();\n  const ids = snapshot.docs.map((doc) => {\n    return doc.id;\n  });\n  return ids;\n}\n\nexport async function getStaticPaths() {\n  const ids = await getCanvasIds();\n  const paths = ids.map((id) => {\n    return \"/Canvases/\" + id;\n  });\n  return {\n    paths: paths,\n    fallback: false,\n  };\n}\n\nexport async function getStaticProps({ params }) {\n  return { props: params };\n}\n\nconst Canvas = (props) => {\n  const classes = useStyles();\n  const { enterCanvas, joinedUsers } = useContext(CanvasContext);\n  const id = props.id;\n  //enterCanvas(id);\n  const users = joinedUsers.map((user) => (\n    <Avatar user={user} key={user.id} alt=\"user\" src={user.image_url} />\n  ));\n\n  return (\n    <Layout>\n      <div className={classes.avatars}>{users}</div>\n      <TextField></TextField>\n      <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n        送信\n      </Button>\n    </Layout>\n  );\n};\n\nexport default Canvas;\n\n///////\n//Style\n///////\nconst useStyles = makeStyles({\n  avatars: {\n    display: \"flex\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}