{"ast":null,"code":"var _jsxFileName = \"/Users/kakehashishunsuke/create-ideas/src/pages/Canvases/[id].js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { CanvasContext } from \"../../contexts/CanvasContext\";\nimport Layout from \"../../components/templates/Layout/Layout\";\nimport { TextField, Button, Avatar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useRouter } from \"next/router\";\nimport firebase from \"../../firebase/firebase\";\nexport async function getStaticPaths() {\n  console.log(\"test\");\n  const db = firebase.firestore();\n  const canvases = [];\n  const canvasesRef = await db.collection(\"canvases\");\n  const result = await new Promise(async (resolve, reject) => {\n    try {\n      await canvasesRef.onSnapshot(snapshot => {\n        snapshot.docs.forEach(doc => {\n          console.log(doc.id);\n          canvases.push({\n            params: {\n              id: doc.id\n            }\n          });\n        });\n      });\n      await resolve(canvases);\n    } catch (error) {\n      reject([]);\n    }\n  });\n  console.log(\"?\", result);\n  return {\n    paths: {\n      params: {\n        id: \"GIQH22GnoC9IHrkkTs82\"\n      }\n    },\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  console.log(\"params\", params);\n  return {\n    props: params\n  };\n}\n\nconst Canvas = props => {\n  const classes = useStyles();\n  const {\n    enterCanvas,\n    joinedUsers\n  } = useContext(CanvasContext); // = props.location.state.canvasId;\n\n  const router = useRouter();\n  const {\n    canvasId\n  } = router.query;\n  console.log(canvasId); // const users = joinedUsers.map((user) => (\n  //   <Avatar user={user} key={user.id} alt=\"user\" src={user.image_url} />\n  // ));\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(TextField, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), __jsx(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"\\u9001\\u4FE1\"));\n};\n\nexport default Canvas; ///////\n//Style\n///////\n\nconst useStyles = makeStyles({\n  avatars: {\n    display: \"flex\"\n  }\n});","map":{"version":3,"sources":["/Users/kakehashishunsuke/create-ideas/src/pages/Canvases/[id].js"],"names":["React","useContext","useEffect","useState","CanvasContext","Layout","TextField","Button","Avatar","makeStyles","useRouter","firebase","getStaticPaths","console","log","db","firestore","canvases","canvasesRef","collection","result","Promise","resolve","reject","onSnapshot","snapshot","docs","forEach","doc","id","push","params","error","paths","fallback","getStaticProps","props","Canvas","classes","useStyles","enterCanvas","joinedUsers","router","canvasId","query","avatars","display"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,OAAOC,MAAP,MAAmB,0CAAnB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,MAA5B,QAA0C,mBAA1C;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AAEA,OAAO,eAAeC,cAAf,GAAgC;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,QAAMC,EAAE,GAAGJ,QAAQ,CAACK,SAAT,EAAX;AACA,QAAMC,QAAQ,GAAG,EAAjB;AACA,QAAMC,WAAW,GAAG,MAAMH,EAAE,CAACI,UAAH,CAAc,UAAd,CAA1B;AACA,QAAMC,MAAM,GAAG,MAAM,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC1D,QAAI;AACF,YAAML,WAAW,CAACM,UAAZ,CAAwBC,QAAD,IAAc;AACzCA,QAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAuBC,GAAD,IAAS;AAC7Bf,UAAAA,OAAO,CAACC,GAAR,CAAYc,GAAG,CAACC,EAAhB;AACAZ,UAAAA,QAAQ,CAACa,IAAT,CAAc;AAAEC,YAAAA,MAAM,EAAE;AAAEF,cAAAA,EAAE,EAAED,GAAG,CAACC;AAAV;AAAV,WAAd;AACD,SAHD;AAID,OALK,CAAN;AAMA,YAAMP,OAAO,CAACL,QAAD,CAAb;AACD,KARD,CAQE,OAAOe,KAAP,EAAc;AACdT,MAAAA,MAAM,CAAC,EAAD,CAAN;AACD;AACF,GAZoB,CAArB;AAaAV,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBM,MAAjB;AACA,SAAO;AAAEa,IAAAA,KAAK,EAAE;AAAEF,MAAAA,MAAM,EAAE;AAAEF,QAAAA,EAAE,EAAE;AAAN;AAAV,KAAT;AAAqDK,IAAAA,QAAQ,EAAE;AAA/D,GAAP;AACD;AAED,OAAO,eAAeC,cAAf,CAA8B;AAAEJ,EAAAA;AAAF,CAA9B,EAA0C;AAC/ClB,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBiB,MAAtB;AACA,SAAO;AAAEK,IAAAA,KAAK,EAAEL;AAAT,GAAP;AACD;;AAED,MAAMM,MAAM,GAAID,KAAD,IAAW;AACxB,QAAME,OAAO,GAAGC,SAAS,EAAzB;AACA,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAA+BxC,UAAU,CAACG,aAAD,CAA/C,CAFwB,CAGxB;;AACA,QAAMsC,MAAM,GAAGhC,SAAS,EAAxB;AACA,QAAM;AAAEiC,IAAAA;AAAF,MAAeD,MAAM,CAACE,KAA5B;AACA/B,EAAAA,OAAO,CAACC,GAAR,CAAY6B,QAAZ,EANwB,CAQxB;AACA;AACA;;AAEA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,MAA/B;AAAgC,IAAA,OAAO,EAAC,WAAxC;AAAoD,IAAA,KAAK,EAAC,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,CADF;AASD,CArBD;;AAuBA,eAAeN,MAAf,C,CAEA;AACA;AACA;;AACA,MAAME,SAAS,GAAG9B,UAAU,CAAC;AAC3BoC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE;AADF;AADkB,CAAD,CAA5B","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { CanvasContext } from \"../../contexts/CanvasContext\";\nimport Layout from \"../../components/templates/Layout/Layout\";\nimport { TextField, Button, Avatar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useRouter } from \"next/router\";\nimport firebase from \"../../firebase/firebase\";\n\nexport async function getStaticPaths() {\n  console.log(\"test\");\n  const db = firebase.firestore();\n  const canvases = [];\n  const canvasesRef = await db.collection(\"canvases\");\n  const result = await new Promise(async (resolve, reject) => {\n    try {\n      await canvasesRef.onSnapshot((snapshot) => {\n        snapshot.docs.forEach((doc) => {\n          console.log(doc.id);\n          canvases.push({ params: { id: doc.id } });\n        });\n      });\n      await resolve(canvases);\n    } catch (error) {\n      reject([]);\n    }\n  });\n  console.log(\"?\", result);\n  return { paths: { params: { id: \"GIQH22GnoC9IHrkkTs82\" } }, fallback: false };\n}\n\nexport async function getStaticProps({ params }) {\n  console.log(\"params\", params);\n  return { props: params };\n}\n\nconst Canvas = (props) => {\n  const classes = useStyles();\n  const { enterCanvas, joinedUsers } = useContext(CanvasContext);\n  // = props.location.state.canvasId;\n  const router = useRouter();\n  const { canvasId } = router.query;\n  console.log(canvasId);\n\n  // const users = joinedUsers.map((user) => (\n  //   <Avatar user={user} key={user.id} alt=\"user\" src={user.image_url} />\n  // ));\n\n  return (\n    <Layout>\n      {/* <div className={classes.avatars}>{users}</div> */}\n      <TextField></TextField>\n      <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n        送信\n      </Button>\n    </Layout>\n  );\n};\n\nexport default Canvas;\n\n///////\n//Style\n///////\nconst useStyles = makeStyles({\n  avatars: {\n    display: \"flex\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}